#FROM python:3.9-slim-buster
FROM alpine:latest

WORKDIR pipelines

RUN apk add --update python3=~3.9 py3-pip
RUN pip3 install kfp --upgrade --user
RUN echo 'export PATH=$PATH:~/.local/bin' | tee -a ~/.bashrc

COPY ./pipelines/ml_pipeline_components ml_pipeline_components
COPY ./pipelines/build_train_data.py .
COPY ./titanic_feature/ .

RUN ls .
RUN ls feature_repo/

CMD [ "python3", "build_train_data.py"]